{% extends 'base/dashboard_base.html' %}

{% block title %}
    {% if object %}Edit Notice{% else %}Create Notice{% endif %} - School Management System
{% endblock %}

{% block dashboard_content %}
<div class="card">
    <h1 style="margin-bottom: 30px;">
        {% if object %}Edit Notice{% else %}Create New Notice{% endif %}
    </h1>
    
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="title">Title *</label>
            <input type="text" id="title" name="title" value="{{ form.title.value|default:'' }}" required>
        </div>
        
        <div class="form-group">
            <label for="content">Content *</label>
            <textarea id="content" name="content" rows="10" required>{{ form.content.value|default:'' }}</textarea>
        </div>
        
        <div class="form-group">
            <label>
                <input type="checkbox" name="is_active" {% if form.is_active.value %}checked{% endif %}>
                Active (visible to public)
            </label>
        </div>
        
        {% if form.errors %}
            <div class="message error">
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                        <p><strong>{{ field }}:</strong> {{ error }}</p>
                    {% endfor %}
                {% endfor %}
            </div>
        {% endif %}
        
        <div style="display: flex; gap: 10px; margin-top: 30px;">
            <button type="submit" class="btn btn-success">
                {% if object %}Update Notice{% else %}Create Notice{% endif %}
            </button>
            <a href="{% url 'dashboard:notice_management' %}" class="btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}